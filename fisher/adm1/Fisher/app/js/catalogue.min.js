$(function(){function r(t){if(t=new RegExp("[?&]"+encodeURIComponent(t)+"=([^&]*)").exec(location.search))return decodeURIComponent(t[1])}function l(t,a,e,i,l,n){t=t||"grid",e=e||"15",a=a||"product_name",i=i||"1",type=$(".content_wrapp > ul > li > a").text(),type=type.toLowerCase(),"прокат"==type?type="rent":type="default",$.ajax({type:"POST",url:"ajax/catalogue-show.php",data:{id_category:r("id"),output_type:t,count_items:e,sort:a,type:type,page:i,id_brand:r("id_brand"),left_limit:l,right_limit:n},success:function(t){$(".items-row").html(t)}})}var t;$(".categories .additional-menu_link a").click(function(t){$(this).parent("li").hasClass("additional-menu_link")&&(t.preventDefault(),$(this).parent(".additional-menu_link").toggleClass("li_active"),$(this).parent(".additional-menu_link").children(".wrapp").toggleClass("active"))}),idCategory=r("id"),$(".categories").find('a[href="catalogue.php?id='+idCategory+'"]').parents(".additional-menu_link").addClass("li_active").children(".wrapp").addClass("active"),$("#slider-range").slider({range:!0,min:0,max:t=$("#slider-range").attr("data-right-limit"),values:[1,t],slide:function(t,a){0==a.values[0]&&(a.values[0]=1),$("#slider-range").attr("data-left-limit",a.values[0]).attr("data-right-limit",a.values[1]),$("#amount").val("Цена: "+a.values[0]+" руб. - "+a.values[1]+" руб.")}}),$("#amount").val("Цена: "+$("#slider-range").slider("values",0)+" руб. - "+$("#slider-range").slider("values",1)+" руб."),$(".price-range-button").click(function(t){t.preventDefault();var a=$("#select_sort").val(),e=$("#select_show").val();l($(".icon_active").attr("data-type"),a,e,$(".pagination li.active button").attr("data-page"),$("#slider-range").attr("data-left-limit"),$("#slider-range").attr("data-right-limit"))}),$("select").change(function(t){t.preventDefault();var a=$("#select_sort").val(),e=$("#select_show").val();l($(".icon_active").attr("data-type"),a,e,$(".pagination li.active button").attr("data-page"),$("#slider-range").attr("data-left-limit"),$("#slider-range").attr("data-right-limit"))}),$(".conclusion .icon").click(function(t){if(t.preventDefault(),$(window).width()<=768)return alert("На мобильных устройства возможен вывод только в режиме сетки."),!1;$(".icon_active").removeClass("icon_active"),$(this).addClass("icon_active");var a=$("#select_sort").val(),e=$("#select_show").val();l($(this).attr("data-type"),a,e,$(".pagination li.active button").attr("data-page"),$("#slider-range").attr("data-left-limit"),$("#slider-range").attr("data-right-limit"))}),$(".main-content").on("click",".pagination li button",function(t){t.preventDefault();var a=$(this).attr("data-page");if(a==$(".pagination li.active button").attr("data-page"))return!1;var e=$("#select_sort").val(),i=$("#select_show").val();l($(".icon_active").attr("data-type"),e,i,a,$("#slider-range").attr("data-left-limit"),$("#slider-range").attr("data-right-limit"))}),l(),$(".filter-button").click(function(t){t.preventDefault(),$(".filter").toggleClass("filter_active")}),$(".button-close").click(function(t){t.preventDefault(),$(".filter").toggleClass("filter_active")})});